<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lazy Loading</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- <script src="sfondoRosso.js"></script> -->

</head>
<body>
    <div class="card text-center">

        <div class="card-header">
            <ul class="nav nav-tabs card-header-tabs">
                <li class="nav-item">
                    <a class="nav-link" aria-current="true" href="#">Sfondo Bianco</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Sfondo Rosso</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Sfondo Verde</a>
                </li>
            </ul>
        </div>

        <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>

    </div>

    <script>
       
        let secondaScheda=document.querySelector(".card-header ul li:nth-child(2) a");
        let terzaScheda=document.querySelector(".card-header ul li:nth-child(3) a");
        // let corpoCard=document.querySelector(".card-body");
        let corpoCard=document.getElementsByClassName("text-center")[0].children[1];
        console.log(corpoCard);


        secondaScheda.onclick=function(){
            if(document.querySelector("script[src='sfondoRosso.js']")==null){
                caricaScriptDinamicamente("sfondoRosso.js")
            }else{
                sfondoRosso()
            }
        }

        terzaScheda.onclick=function(){
            if(document.querySelector("script[src='sfondoVerde.js']")==null){
                caricaScriptDinamicamente("sfondoVerde.js")
            }else{
                sfondoVerde()
            }
        }

        function caricaScriptDinamicamente(nomeScript){
            let script=document.createElement("script")  //con questo metodo noi creiamo nella pagina un nuovo tag <script>

            script.onload=function(){
                if(nomeScript=="sfondoRosso.js"){
                    sfondoRosso()
                }else{
                    sfondoVerde()
                }
            }
            
            script.src=nomeScript;
            document.body.appendChild(script)  //appendChild() va ad inserire effettivamente il tag che abbiamo creato con createElement(), e lo va ad inserire sempre come ultimo figlio.
        }

    </script>


</body>
</html>